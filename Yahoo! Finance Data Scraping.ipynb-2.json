{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Requirement already satisfied: numpy in /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages (1.19.4)\n",
      "\u001b[33mWARNING: You are using pip version 19.2.3, however version 20.3.1 is available.\n",
      "You should consider upgrading via the 'pip install --upgrade pip' command.\u001b[0m\n"
     ]
    }
   ],
   "source": [
    "import sys\n",
    "!{sys.executable} -m pip install numpy\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting pip\n",
      "  Using cached https://files.pythonhosted.org/packages/ab/11/2dc62c5263d9eb322f2f028f7b56cd9d096bb8988fcf82d65fa2e4057afe/pip-20.3.1-py2.py3-none-any.whl\n",
      "Installing collected packages: pip\n",
      "  Found existing installation: pip 19.2.3\n",
      "    Uninstalling pip-19.2.3:\n",
      "      Successfully uninstalled pip-19.2.3\n",
      "Successfully installed pip-20.3.1\n",
      "Note: you may need to restart the kernel to use updated packages.\n"
     ]
    }
   ],
   "source": [
    "pip install --upgrade pip"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting requests\n",
      "  Using cached requests-2.25.0-py2.py3-none-any.whl (61 kB)\n",
      "Collecting certifi>=2017.4.17\n",
      "  Using cached certifi-2020.12.5-py2.py3-none-any.whl (147 kB)\n",
      "Collecting chardet<4,>=3.0.2\n",
      "  Using cached chardet-3.0.4-py2.py3-none-any.whl (133 kB)\n",
      "Collecting idna<3,>=2.5\n",
      "  Using cached idna-2.10-py2.py3-none-any.whl (58 kB)\n",
      "Collecting urllib3<1.27,>=1.21.1\n",
      "  Using cached urllib3-1.26.2-py2.py3-none-any.whl (136 kB)\n",
      "Installing collected packages: urllib3, idna, chardet, certifi, requests\n",
      "Successfully installed certifi-2020.12.5 chardet-3.0.4 idna-2.10 requests-2.25.0 urllib3-1.26.2\n",
      "Note: you may need to restart the kernel to use updated packages.\n"
     ]
    }
   ],
   "source": [
    "pip install requests\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "import re\n",
    "import json\n",
    "import csv\n",
    "from io import StringIO\n",
    "from bs4 import BeautifulSoup\n",
    "import requests"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "url_stats = 'https://finance.yahoo.com/quote/{}/key-statistics?p={}'\n",
    "url_profile = 'https://finance.yahoo.com/quote/{}/profile?p={}'\n",
    "url_financials ='https://finance.yahoo.com/quote/{}/financials?p={}'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 69,
   "metadata": {},
   "outputs": [],
   "source": [
    "stock = 'OGEN'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "response = requests.get(url_financials.format(stock, stock))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "soup = BeautifulSoup(response.text, 'html.parser')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [],
   "source": [
    "pattern = re.compile(r'\\s--\\sData\\s--\\s')\n",
    "script_data = soup.find('script', text=pattern).contents[0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'\\n(function (root) {\\n/* -- Data -- */\\nroot.App || (root.App = {});\\nroot.App.now = 1607519602942;\\nroot.App.main = {\"context\":{\"dispatcher\":{\"stores\":{\"PageStore\":{\"currentPageName\":\"quote\",\"currentEvent\":{\"eventName\":\"NEW_PAGE_SUCCESS\"},\"currentRenderTargetId\":\"default\",\"pagesConfigRaw\":{\"base\":{\"quote\":{\"layout\":{\"bundleName\":\"yahoodotcom-layout.TwoColumnLayout\",\"name\":\"TwoColumnLayout\",\"config\":{\"enableHeaderCollapse\":true,\"additionalBodyWrapperClasses\":\"Bgc($layoutBgColor)!\",\"contentWrapperClas'"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#beginning\n",
    "script_data[:500]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'\":{\"strings\":1},\"tdv2-applet-search-input\":{\"strings\":1},\"tdv2-applet-sponsored-moments\":{\"strings\":1},\"tdv2-applet-stream\":{\"strings\":1},\"tdv2-applet-stream-hero\":{\"strings\":1},\"tdv2-applet-swisschamp\":{\"strings\":1},\"tdv2-applet-uh\":{\"strings\":1},\"tdv2-applet-userintent\":{\"strings\":1},\"tdv2-applet-video-lightbox\":{\"strings\":1},\"tdv2-applet-video-modal\":{\"strings\":1},\"tdv2-wafer-header\":{\"strings\":1},\"yahoodotcom-layout\":{\"strings\":1}}},\"options\":{\"defaultBundle\":\"td-app-finance\"}}}};\\n}(this));\\n'"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# the end\n",
    "script_data[-500:]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "start = script_data.find(\"context\")-2"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [],
   "source": [
    "json_data = json.loads(script_data[start:-12])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "dict_keys(['dispatcher', 'options', 'plugins'])"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "json_data[\"context\"].keys()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "dict_keys(['financialsTemplate', 'cashflowStatementHistory', 'balanceSheetHistoryQuarterly', 'earnings', 'price', 'incomeStatementHistoryQuarterly', 'incomeStatementHistory', 'balanceSheetHistory', 'cashflowStatementHistoryQuarterly', 'quoteType', 'summaryDetail', 'symbol', 'pageViews'])"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "json_data['context']['dispatcher']['stores']['QuoteSummaryStore'].keys()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [],
   "source": [
    "annual_is = json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['incomeStatementHistory']['incomeStatementHistory']\n",
    "quarterly_is = json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['incomeStatementHistoryQuarterly']['incomeStatementHistory']\n",
    "\n",
    "annual_cf = json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['cashflowStatementHistory']['cashflowStatements']\n",
    "quarterly_cf =json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['cashflowStatementHistoryQuarterly']['cashflowStatements']\n",
    "\n",
    "annual_bs = json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['balanceSheetHistory']['balanceSheetStatements']\n",
    "quarterly_bs = json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['balanceSheetHistoryQuarterly']['balanceSheetStatements']\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "{'researchDevelopment': {}, 'effectOfAccountingCharges': {}, 'incomeBeforeTax': {'raw': -640000000, 'fmt': '-640M', 'longFmt': '-640,000,000'}, 'minorityInterest': {'raw': 45000000, 'fmt': '45M', 'longFmt': '45,000,000'}, 'netIncome': {'raw': 47000000, 'fmt': '47M', 'longFmt': '47,000,000'}, 'sellingGeneralAdministrative': {'raw': 10218000000, 'fmt': '10.22B', 'longFmt': '10,218,000,000'}, 'grossProfit': {'raw': 12876000000, 'fmt': '12.88B', 'longFmt': '12,876,000,000'}, 'ebit': {'raw': 2658000000, 'fmt': '2.66B', 'longFmt': '2,658,000,000'}, 'endDate': {'raw': 1577750400, 'fmt': '2019-12-31'}, 'operatingIncome': {'raw': 2658000000, 'fmt': '2.66B', 'longFmt': '2,658,000,000'}, 'otherOperatingExpenses': {}, 'interestExpense': {'raw': -1049000000, 'fmt': '-1.05B', 'longFmt': '-1,049,000,000'}, 'extraordinaryItems': {}, 'nonRecurring': {}, 'otherItems': {}, 'incomeTaxExpense': {'raw': -724000000, 'fmt': '-724M', 'longFmt': '-724,000,000'}, 'totalRevenue': {'raw': 155900000000, 'fmt': '155.9B', 'longFmt': '155,900,000,000'}, 'totalOperatingExpenses': {'raw': 153242000000, 'fmt': '153.24B', 'longFmt': '153,242,000,000'}, 'costOfRevenue': {'raw': 143024000000, 'fmt': '143.02B', 'longFmt': '143,024,000,000'}, 'totalOtherIncomeExpenseNet': {'raw': -3298000000, 'fmt': '-3.3B', 'longFmt': '-3,298,000,000'}, 'maxAge': 1, 'discontinuedOperations': {}, 'netIncomeFromContinuingOps': {'raw': 84000000, 'fmt': '84M', 'longFmt': '84,000,000'}, 'netIncomeApplicableToCommonShares': {'raw': 47000000, 'fmt': '47M', 'longFmt': '47,000,000'}}\n"
     ]
    }
   ],
   "source": [
    "print(annual_is[0])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'raw': 2658000000, 'fmt': '2.66B', 'longFmt': '2,658,000,000'}"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "annual_is[0]['operatingIncome']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [],
   "source": [
    "annual_is_stmts = []\n",
    "\n",
    "#consolidate annual \n",
    "for s in annual_is:\n",
    "    statement = {}\n",
    "    for key, val in s.items():\n",
    "        try:\n",
    "            statement[key] = val['raw']\n",
    "        except TypeError:\n",
    "            continue\n",
    "        except KeyError:\n",
    "            continue\n",
    "        annual_is_stmts.append(statement)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'incomeBeforeTax': -640000000,\n",
       " 'minorityInterest': 45000000,\n",
       " 'netIncome': 47000000,\n",
       " 'sellingGeneralAdministrative': 10218000000,\n",
       " 'grossProfit': 12876000000,\n",
       " 'ebit': 2658000000,\n",
       " 'endDate': 1577750400,\n",
       " 'operatingIncome': 2658000000,\n",
       " 'interestExpense': -1049000000,\n",
       " 'incomeTaxExpense': -724000000,\n",
       " 'totalRevenue': 155900000000,\n",
       " 'totalOperatingExpenses': 153242000000,\n",
       " 'costOfRevenue': 143024000000,\n",
       " 'totalOtherIncomeExpenseNet': -3298000000,\n",
       " 'netIncomeFromContinuingOps': 84000000,\n",
       " 'netIncomeApplicableToCommonShares': 47000000}"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "annual_is_stmts[0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [],
   "source": [
    "annual_cf_stmts = []\n",
    "\n",
    "#consolidate annual \n",
    "for s in annual_cf:\n",
    "    statement = {}\n",
    "    for key, val in s.items():\n",
    "        try:\n",
    "            statement[key] = val['raw']\n",
    "        except TypeError:\n",
    "            continue\n",
    "        except KeyError:\n",
    "            continue\n",
    "        annual_cf_stmts.append(statement)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'investments': -543000000,\n",
       " 'changeToLiabilities': 5260000000,\n",
       " 'totalCashflowsFromInvestingActivities': -13721000000,\n",
       " 'netBorrowings': -277000000,\n",
       " 'totalCashFromFinancingActivities': -3129000000,\n",
       " 'changeToOperatingActivities': 1554000000,\n",
       " 'netIncome': 47000000,\n",
       " 'changeInCash': 834000000,\n",
       " 'endDate': 1577750400,\n",
       " 'repurchaseOfStock': -237000000,\n",
       " 'effectOfExchangeRate': 45000000,\n",
       " 'totalCashFromOperatingActivities': 17639000000,\n",
       " 'depreciation': 8490000000,\n",
       " 'otherCashflowsFromInvestingActivities': -152000000,\n",
       " 'dividendsPaid': -2389000000,\n",
       " 'changeToInventory': 206000000,\n",
       " 'changeToAccountReceivables': -816000000,\n",
       " 'otherCashflowsFromFinancingActivities': -226000000,\n",
       " 'changeToNetincome': 2898000000,\n",
       " 'capitalExpenditures': -7632000000}"
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "annual_cf_stmts[0]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Profile Data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [],
   "source": [
    "response = requests.get(url_profile.format(stock, stock))\n",
    "soup = BeautifulSoup(response.text, 'html.parser')\n",
    "pattern = re.compile(r'\\s--\\sData\\s--\\s')\n",
    "script_data = soup.find('script', text=pattern).contents[0]\n",
    "start = script_data.find(\"context\")-2\n",
    "json_data = json.loads(script_data[start:-12])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "dict_keys(['financialsTemplate', 'price', 'secFilings', 'quoteType', 'calendarEvents', 'summaryDetail', 'symbol', 'assetProfile', 'pageViews'])"
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "json_data['context']['dispatcher']['stores']['QuoteSummaryStore'].keys()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "dict_keys(['zip', 'sector', 'fullTimeEmployees', 'compensationRisk', 'auditRisk', 'longBusinessSummary', 'city', 'phone', 'state', 'shareHolderRightsRisk', 'compensationAsOfEpochDate', 'governanceEpochDate', 'boardRisk', 'country', 'companyOfficers', 'website', 'maxAge', 'overallRisk', 'address1', 'industry'])"
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['assetProfile'].keys()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[{'totalPay': {'raw': 3661316, 'fmt': '3.66M', 'longFmt': '3,661,316'},\n",
       "  'exercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'yearBorn': 1957,\n",
       "  'name': 'Mr. William Clay Ford Jr.',\n",
       "  'title': 'Exec. Chairman',\n",
       "  'maxAge': 1,\n",
       "  'fiscalYear': 2019,\n",
       "  'unexercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'age': 62},\n",
       " {'totalPay': {'raw': 2274993, 'fmt': '2.27M', 'longFmt': '2,274,993'},\n",
       "  'exercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'yearBorn': 1962,\n",
       "  'name': 'Mr. James D. Farley Jr.',\n",
       "  'title': 'Pres, CEO & Director',\n",
       "  'maxAge': 1,\n",
       "  'fiscalYear': 2019,\n",
       "  'unexercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'age': 57},\n",
       " {'totalPay': {'raw': 4167237, 'fmt': '4.17M', 'longFmt': '4,167,237'},\n",
       "  'exercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'yearBorn': 1955,\n",
       "  'name': 'Mr. James Patrick Hackett',\n",
       "  'title': 'Advisor',\n",
       "  'maxAge': 1,\n",
       "  'fiscalYear': 2019,\n",
       "  'unexercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'age': 64},\n",
       " {'totalPay': {'raw': 785183, 'fmt': '785.18k', 'longFmt': '785,183'},\n",
       "  'exercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'yearBorn': 1949,\n",
       "  'name': 'Mr. Edsel B. Ford II',\n",
       "  'title': 'Consultant & Director',\n",
       "  'maxAge': 1,\n",
       "  'fiscalYear': 2019,\n",
       "  'unexercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'age': 70},\n",
       " {'maxAge': 1,\n",
       "  'name': 'Mr. John T. Lawler',\n",
       "  'age': 53,\n",
       "  'title': 'Chief Financial Officer',\n",
       "  'yearBorn': 1966,\n",
       "  'exercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'unexercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'}},\n",
       " {'maxAge': 1,\n",
       "  'name': 'Mr. Thai-Tang  Hau',\n",
       "  'age': 52,\n",
       "  'title': 'Chief Product Platform & Operations Officer',\n",
       "  'yearBorn': 1967,\n",
       "  'exercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'unexercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'}},\n",
       " {'maxAge': 1,\n",
       "  'name': 'Dr. Kenneth E. Washington Ph.D.',\n",
       "  'age': 59,\n",
       "  'title': 'Chief Technology Officer',\n",
       "  'yearBorn': 1960,\n",
       "  'exercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'unexercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'}},\n",
       " {'maxAge': 1,\n",
       "  'name': 'Mr. Jeff  Lemmer',\n",
       "  'age': 53,\n",
       "  'title': 'VP & Chief Information Officer',\n",
       "  'yearBorn': 1966,\n",
       "  'exercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'unexercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'}},\n",
       " {'maxAge': 1,\n",
       "  'name': 'Mr. Vijay  Sankaran',\n",
       "  'age': 46,\n",
       "  'title': 'Chief Software & Information Officer',\n",
       "  'yearBorn': 1973,\n",
       "  'exercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'unexercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'}},\n",
       " {'maxAge': 1,\n",
       "  'name': 'Ms. Lynn Antipas Tyson',\n",
       "  'title': 'Exec. Director of Investor Relations',\n",
       "  'exercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'},\n",
       "  'unexercisedValue': {'raw': 0, 'fmt': None, 'longFmt': '0'}}]"
      ]
     },
     "execution_count": 32,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['assetProfile']['companyOfficers']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'Ford Motor Company designs, manufactures, markets, and services a range of Ford cars, trucks, sport utility vehicles, electrified vehicles, and Lincoln luxury vehicles worldwide. It operates through three segments: Automotive, Mobility, and Ford Credit. The Automotive segment sells Ford and Lincoln vehicles, service parts, and accessories through distributors and dealers, as well as through dealerships to commercial fleet customers, daily rental car companies, and governments. The Mobility segment designs and builds mobility services; and provides self-driving systems development and vehicle integration, autonomous vehicle research and engineering, and autonomous vehicle transportation-as-a-service network development services. The Ford Credit segment primarily engages in vehicle-related financing and leasing activities to and through automotive dealers. It provides retail installment sale contracts for new and used vehicles; and direct financing leases for new vehicles to retail and commercial customers, such as leasing companies, government entities, daily rental companies, and fleet customers. This segment also offers wholesale loans to dealers to finance the purchase of vehicle inventory; and loans to dealers to finance working capital and enhance dealership facilities, purchase dealership real estate, and other dealer vehicle programs. The company was founded in 1903 and is based in Dearborn, Michigan.'"
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['assetProfile']['longBusinessSummary']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'filings': [{'date': '2020-10-29',\n",
       "   'epochDate': 1603969511,\n",
       "   'type': '10-Q',\n",
       "   'title': 'Quarterly Report',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000071&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-10-28',\n",
       "   'epochDate': 1603919714,\n",
       "   'type': '8-K',\n",
       "   'title': 'Results of Operations and Financial Condition, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000070&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-10-15',\n",
       "   'epochDate': 1602769209,\n",
       "   'type': '8-K',\n",
       "   'title': 'Change in Directors or Principal Officers, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000066&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-10-02',\n",
       "   'epochDate': 1601667709,\n",
       "   'type': '8-K',\n",
       "   'title': 'Other Events, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000064&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-10-01',\n",
       "   'epochDate': 1601557393,\n",
       "   'type': '8-K',\n",
       "   'title': 'Change in Directors or Principal Officers, Regulation FD Disclosure, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000062&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-08-04',\n",
       "   'epochDate': 1596549938,\n",
       "   'type': '8-K',\n",
       "   'title': 'Change in Directors or Principal Officers, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000059&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-07-31',\n",
       "   'epochDate': 1596194245,\n",
       "   'type': '10-Q',\n",
       "   'title': 'Quarterly Report',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000057&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-07-31',\n",
       "   'epochDate': 1596193825,\n",
       "   'type': '8-K',\n",
       "   'title': 'Results of Operations and Financial Condition, Creation of a Direct Financial Obligation or an Obligation under an Off-Balance Sheet Arrangement of a Registrant, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000056&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-07-02',\n",
       "   'epochDate': 1593722382,\n",
       "   'type': '8-K',\n",
       "   'title': 'Other Events, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000050&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-06-02',\n",
       "   'epochDate': 1591092476,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Regulation FD Disclosure',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000048&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-05-19',\n",
       "   'epochDate': 1589919293,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Submission of Matters to a Vote of Security Holders',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000043&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-04-29',\n",
       "   'epochDate': 1588154623,\n",
       "   'type': '10-Q',\n",
       "   'title': 'Quarterly Report',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000041&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-04-28',\n",
       "   'epochDate': 1588104863,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Results of Operations and Financial Condition, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000039&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-04-22',\n",
       "   'epochDate': 1587581926,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Other Events, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000036&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-04-17',\n",
       "   'epochDate': 1587127790,\n",
       "   'type': '8-K/A',\n",
       "   'title': 'FORD MOTOR CO FILES (8-K/A) Disclosing Regulation FD Disclosure',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000034&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-04-13',\n",
       "   'epochDate': 1586788296,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Regulation FD Disclosure, Other Events, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000031&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-04-02',\n",
       "   'epochDate': 1585860040,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Other Events, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000029&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-03-26',\n",
       "   'epochDate': 1585225887,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Change in Directors or Principal Officers, Regulation FD Disclosure, Financial Stat',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000026&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-03-19',\n",
       "   'epochDate': 1584652655,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Entry into a Material Definitive Agreement, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000022&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-02-07',\n",
       "   'epochDate': 1581084402,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Change in Directors or Principal Officers, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000012&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-02-05',\n",
       "   'epochDate': 1580922249,\n",
       "   'type': '10-K',\n",
       "   'title': 'Annual Report',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000010&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-02-04',\n",
       "   'epochDate': 1580850934,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Results of Operations and Financial Condition, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000008&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2020-01-06',\n",
       "   'epochDate': 1578338496,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Other Events, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-20-000003&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-12-11',\n",
       "   'epochDate': 1576080645,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Other Events, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000086&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-10-24',\n",
       "   'epochDate': 1571911326,\n",
       "   'type': '10-Q',\n",
       "   'title': 'Quarterly Report',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000078&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-10-23',\n",
       "   'epochDate': 1571861564,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Results of Operations and Financial Condition, Regulation FD Disclosure, Financial ',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000076&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-10-02',\n",
       "   'epochDate': 1570049328,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Other Events, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000074&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-10-01',\n",
       "   'epochDate': 1569927952,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Material Impairments, Regulation FD Disclosure, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000071&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-07-25',\n",
       "   'epochDate': 1564049096,\n",
       "   'type': '10-Q',\n",
       "   'title': 'Quarterly Report',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000067&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-07-24',\n",
       "   'epochDate': 1563999789,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Results of Operations and Financial Condition, Regulation FD Disclosure, Financial ',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000065&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-07-12',\n",
       "   'epochDate': 1562934583,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Other Events, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000062&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-07-10',\n",
       "   'epochDate': 1562786581,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Change in Directors or Principal Officers, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000059&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-07-03',\n",
       "   'epochDate': 1562177801,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Other Events, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000057&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-06-12',\n",
       "   'epochDate': 1560342846,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Regulation FD Disclosure',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000052&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-06-06',\n",
       "   'epochDate': 1559821574,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Costs Associated with Exit or Disposal Activities',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000049&nav=1&src=Yahoo',\n",
       "   'maxAge': 1},\n",
       "  {'date': '2019-06-04',\n",
       "   'epochDate': 1559680353,\n",
       "   'type': '8-K',\n",
       "   'title': 'Disclosing Change in Directors or Principal Officers, Financial Statements and Exhibits',\n",
       "   'edgarUrl': 'https://yahoo.brand.edgar-online.com/DisplayFiling.aspx?TabIndex=2&dcn=0000037996-19-000046&nav=1&src=Yahoo',\n",
       "   'maxAge': 1}],\n",
       " 'maxAge': 86400}"
      ]
     },
     "execution_count": 34,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['secFilings']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'previousClose': {'raw': 9.22, 'fmt': '9.22'},\n",
       " 'regularMarketOpen': {'raw': 9.19, 'fmt': '9.19'},\n",
       " 'twoHundredDayAverage': {'raw': 7.1697826, 'fmt': '7.17'},\n",
       " 'trailingAnnualDividendYield': {'raw': 0.03253796, 'fmt': '3.25%'},\n",
       " 'payoutRatio': {},\n",
       " 'volume24Hr': {},\n",
       " 'regularMarketDayHigh': {'raw': 9.33, 'fmt': '9.33'},\n",
       " 'navPrice': {},\n",
       " 'averageDailyVolume10Day': {'raw': 58416014,\n",
       "  'fmt': '58.42M',\n",
       "  'longFmt': '58,416,014'},\n",
       " 'totalAssets': {},\n",
       " 'regularMarketPreviousClose': {'raw': 9.22, 'fmt': '9.22'},\n",
       " 'fiftyDayAverage': {'raw': 8.481714, 'fmt': '8.48'},\n",
       " 'trailingAnnualDividendRate': {'raw': 0.3, 'fmt': '0.30'},\n",
       " 'open': {'raw': 9.19, 'fmt': '9.19'},\n",
       " 'toCurrency': None,\n",
       " 'averageVolume10days': {'raw': 58416014,\n",
       "  'fmt': '58.42M',\n",
       "  'longFmt': '58,416,014'},\n",
       " 'expireDate': {},\n",
       " 'yield': {},\n",
       " 'algorithm': None,\n",
       " 'dividendRate': {},\n",
       " 'exDividendDate': {'raw': 1580256000, 'fmt': '2020-01-29'},\n",
       " 'beta': {'raw': 1.282414, 'fmt': '1.28'},\n",
       " 'circulatingSupply': {},\n",
       " 'startDate': {},\n",
       " 'regularMarketDayLow': {'raw': 9.17, 'fmt': '9.17'},\n",
       " 'priceHint': {'raw': 2, 'fmt': '2', 'longFmt': '2'},\n",
       " 'currency': 'USD',\n",
       " 'regularMarketVolume': {'raw': 54178473,\n",
       "  'fmt': '54.18M',\n",
       "  'longFmt': '54,178,473'},\n",
       " 'lastMarket': None,\n",
       " 'maxSupply': {},\n",
       " 'openInterest': {},\n",
       " 'marketCap': {'raw': 36800475136,\n",
       "  'fmt': '36.8B',\n",
       "  'longFmt': '36,800,475,136'},\n",
       " 'volumeAllCurrencies': {},\n",
       " 'strikePrice': {},\n",
       " 'averageVolume': {'raw': 64546009, 'fmt': '64.55M', 'longFmt': '64,546,009'},\n",
       " 'priceToSalesTrailing12Months': {'raw': 0.28111923, 'fmt': '0.28'},\n",
       " 'dayLow': {'raw': 9.17, 'fmt': '9.17'},\n",
       " 'ask': {'raw': 9.3, 'fmt': '9.30'},\n",
       " 'ytdReturn': {},\n",
       " 'askSize': {'raw': 38500, 'fmt': '38.5k', 'longFmt': '38,500'},\n",
       " 'volume': {'raw': 54178473, 'fmt': '54.18M', 'longFmt': '54,178,473'},\n",
       " 'fiftyTwoWeekHigh': {'raw': 9.57, 'fmt': '9.57'},\n",
       " 'forwardPE': {'raw': 8.809525, 'fmt': '8.81'},\n",
       " 'maxAge': 1,\n",
       " 'fromCurrency': None,\n",
       " 'fiveYearAvgDividendYield': {'raw': 5.92, 'fmt': '5.92'},\n",
       " 'fiftyTwoWeekLow': {'raw': 3.96, 'fmt': '3.96'},\n",
       " 'bid': {'raw': 9.26, 'fmt': '9.26'},\n",
       " 'tradeable': False,\n",
       " 'dividendYield': {},\n",
       " 'bidSize': {'raw': 40700, 'fmt': '40.7k', 'longFmt': '40,700'},\n",
       " 'dayHigh': {'raw': 9.33, 'fmt': '9.33'}}"
      ]
     },
     "execution_count": 35,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['summaryDetail']"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Statistics "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [],
   "source": [
    "response = requests.get(url_stats.format(stock, stock))\n",
    "soup = BeautifulSoup(response.text, 'html.parser')\n",
    "pattern = re.compile(r'\\s--\\sData\\s--\\s')\n",
    "script_data = soup.find('script', text=pattern).contents[0]\n",
    "start = script_data.find(\"context\")-2\n",
    "json_data = json.loads(script_data[start:-12])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'annualHoldingsTurnover': {},\n",
       " 'enterpriseToRevenue': {'raw': 1.267, 'fmt': '1.27'},\n",
       " 'beta3Year': {},\n",
       " 'profitMargins': {'raw': -0.00124, 'fmt': '-0.12%'},\n",
       " 'enterpriseToEbitda': {'raw': 23.534, 'fmt': '23.53'},\n",
       " '52WeekChange': {'raw': 0.015367746, 'fmt': '1.54%'},\n",
       " 'morningStarRiskRating': {},\n",
       " 'forwardEps': {'raw': 1.05, 'fmt': '1.05'},\n",
       " 'revenueQuarterlyGrowth': {},\n",
       " 'sharesOutstanding': {'raw': 3907579904,\n",
       "  'fmt': '3.91B',\n",
       "  'longFmt': '3,907,579,904'},\n",
       " 'fundInceptionDate': {},\n",
       " 'annualReportExpenseRatio': {},\n",
       " 'totalAssets': {},\n",
       " 'bookValue': {'raw': 8.326, 'fmt': '8.33'},\n",
       " 'sharesShort': {'raw': 91053584, 'fmt': '91.05M', 'longFmt': '91,053,584'},\n",
       " 'sharesPercentSharesOut': {'raw': 0.0229, 'fmt': '2.29%'},\n",
       " 'fundFamily': None,\n",
       " 'lastFiscalYearEnd': {'raw': 1577750400, 'fmt': '2019-12-31'},\n",
       " 'heldPercentInstitutions': {'raw': 0.52074003, 'fmt': '52.07%'},\n",
       " 'netIncomeToCommon': {'raw': -163000000,\n",
       "  'fmt': '-163M',\n",
       "  'longFmt': '-163,000,000'},\n",
       " 'trailingEps': {'raw': -0.041, 'fmt': '-0.04'},\n",
       " 'lastDividendValue': {'raw': 0.15, 'fmt': '0.15'},\n",
       " 'SandP52WeekChange': {'raw': 0.1784488, 'fmt': '17.84%'},\n",
       " 'priceToBook': {'raw': 1.1109776, 'fmt': '1.11'},\n",
       " 'heldPercentInsiders': {'raw': 0.0019400001, 'fmt': '0.19%'},\n",
       " 'nextFiscalYearEnd': {'raw': 1640908800, 'fmt': '2021-12-31'},\n",
       " 'yield': {},\n",
       " 'mostRecentQuarter': {'raw': 1601424000, 'fmt': '2020-09-30'},\n",
       " 'shortRatio': {'raw': 1.31, 'fmt': '1.31'},\n",
       " 'sharesShortPreviousMonthDate': {'raw': 1602720000, 'fmt': '2020-10-15'},\n",
       " 'floatShares': {'raw': 3898102912, 'fmt': '3.9B', 'longFmt': '3,898,102,912'},\n",
       " 'beta': {'raw': 1.282414, 'fmt': '1.28'},\n",
       " 'enterpriseValue': {'raw': 165892456448,\n",
       "  'fmt': '165.89B',\n",
       "  'longFmt': '165,892,456,448'},\n",
       " 'priceHint': {'raw': 2, 'fmt': '2', 'longFmt': '2'},\n",
       " 'threeYearAverageReturn': {},\n",
       " 'lastSplitDate': {'raw': 965260800, 'fmt': '2000-08-03'},\n",
       " 'lastSplitFactor': '1748175:1000000',\n",
       " 'legalType': None,\n",
       " 'lastDividendDate': {'raw': 1580256000, 'fmt': '2020-01-29'},\n",
       " 'morningStarOverallRating': {},\n",
       " 'earningsQuarterlyGrowth': {'raw': 4.612, 'fmt': '461.20%'},\n",
       " 'priceToSalesTrailing12Months': {},\n",
       " 'dateShortInterest': {'raw': 1605225600, 'fmt': '2020-11-13'},\n",
       " 'pegRatio': {'raw': -35.2, 'fmt': '-35.20'},\n",
       " 'ytdReturn': {},\n",
       " 'forwardPE': {'raw': 8.809525, 'fmt': '8.81'},\n",
       " 'maxAge': 1,\n",
       " 'lastCapGain': {},\n",
       " 'shortPercentOfFloat': {'raw': 0.0257, 'fmt': '2.57%'},\n",
       " 'sharesShortPriorMonth': {'raw': 94053886,\n",
       "  'fmt': '94.05M',\n",
       "  'longFmt': '94,053,886'},\n",
       " 'impliedSharesOutstanding': {'raw': 3978429952,\n",
       "  'fmt': '3.98B',\n",
       "  'longFmt': '3,978,429,952'},\n",
       " 'category': None,\n",
       " 'fiveYearAverageReturn': {}}"
      ]
     },
     "execution_count": 37,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "json_data['context']['dispatcher']['stores']['QuoteSummaryStore']['defaultKeyStatistics']"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Historical Stock Data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 164,
   "metadata": {},
   "outputs": [],
   "source": [
    "stock_url = 'https://query1.finance.yahoo.com/v7/finance/download/{}?period1=1575904001&period2=1607526401&interval=1d&events=history&includeAdjustedClose=true'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 165,
   "metadata": {},
   "outputs": [],
   "source": [
    "response = requests.get(stock_url.format(stock))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 170,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'Date,Open,High,Low,Close,Adj Close,Volume\\n2019-12-09,0.550000,0.560000,0.550000,0.560000,0.560000,554900\\n2019-12-10,0.550000,0.580000,0.540000,0.560000,0.560000,927000\\n2019-12-11,0.550000,0.560000,0.520000,0.530000,0.530000,519400\\n2019-12-12,0.510000,0.540000,0.510000,0.520000,0.520000,400700\\n2019-12-13,0.520000,0.530000,0.510000,0.520000,0.520000,250200\\n2019-12-16,0.540000,0.540000,0.510000,0.510000,0.510000,265900\\n2019-12-17,0.520000,0.540000,0.510000,0.530000,0.530000,634100\\n2019-12-18,0.540000,0.540000,0.500000,0.500000,0.500000,461300\\n2019-12-19,0.520000,0.530000,0.500000,0.510000,0.510000,215000\\n2019-12-20,0.510000,0.520000,0.500000,0.510000,0.510000,163000\\n2019-12-23,0.510000,0.540000,0.500000,0.530000,0.530000,711800\\n2019-12-24,0.540000,0.550000,0.530000,0.550000,0.550000,446300\\n2019-12-26,0.560000,0.560000,0.530000,0.540000,0.540000,574800\\n2019-12-27,0.540000,0.540000,0.510000,0.530000,0.530000,496900\\n2019-12-30,0.520000,0.550000,0.520000,0.520000,0.520000,482500\\n2019-12-31,0.520000,0.530000,0.520000,0.520000,0.520000,1214700\\n2020-01-02,0.500000,0.510000,0.470000,0.510000,0.510000,1063400\\n2020-01-03,0.490000,0.500000,0.480000,0.490000,0.490000,560700\\n2020-01-06,0.490000,0.490000,0.460000,0.480000,0.480000,730100\\n2020-01-07,0.490000,0.490000,0.480000,0.480000,0.480000,297700\\n2020-01-08,0.480000,0.480000,0.470000,0.480000,0.480000,583600\\n2020-01-09,0.490000,0.490000,0.470000,0.470000,0.470000,359400\\n2020-01-10,0.480000,0.490000,0.470000,0.480000,0.480000,377500\\n2020-01-13,0.490000,0.490000,0.470000,0.480000,0.480000,436000\\n2020-01-14,0.470000,0.480000,0.470000,0.480000,0.480000,283800\\n2020-01-15,0.470000,0.480000,0.460000,0.470000,0.470000,660800\\n2020-01-16,0.480000,0.480000,0.470000,0.470000,0.470000,365600\\n2020-01-17,0.470000,0.470000,0.460000,0.460000,0.460000,464700\\n2020-01-21,0.460000,0.460000,0.440000,0.450000,0.450000,782700\\n2020-01-22,0.460000,0.460000,0.430000,0.450000,0.450000,661700\\n2020-01-23,0.450000,0.470000,0.450000,0.470000,0.470000,666200\\n2020-01-24,0.470000,0.470000,0.450000,0.450000,0.450000,484300\\n2020-01-27,0.450000,0.450000,0.430000,0.440000,0.440000,415800\\n2020-01-28,0.440000,0.460000,0.430000,0.430000,0.430000,254900\\n2020-01-29,0.440000,0.440000,0.430000,0.440000,0.440000,405600\\n2020-01-30,0.440000,0.440000,0.420000,0.440000,0.440000,465300\\n2020-01-31,0.440000,0.460000,0.430000,0.440000,0.440000,490200\\n2020-02-03,0.460000,0.460000,0.440000,0.440000,0.440000,320100\\n2020-02-04,0.440000,0.460000,0.440000,0.440000,0.440000,462100\\n2020-02-05,0.460000,0.480000,0.450000,0.480000,0.480000,718800\\n2020-02-06,0.480000,0.550000,0.470000,0.530000,0.530000,2758700\\n2020-02-07,0.540000,0.650000,0.540000,0.620000,0.620000,5305200\\n2020-02-10,0.690000,0.770000,0.500000,0.590000,0.590000,9541500\\n2020-02-11,0.580000,0.590000,0.530000,0.540000,0.540000,1747100\\n2020-02-12,0.550000,0.550000,0.500000,0.510000,0.510000,1395600\\n2020-02-13,0.510000,0.590000,0.500000,0.550000,0.550000,1911300\\n2020-02-14,0.550000,0.550000,0.520000,0.530000,0.530000,743300\\n2020-02-18,0.530000,0.550000,0.520000,0.550000,0.550000,439200\\n2020-02-19,0.540000,0.560000,0.530000,0.560000,0.560000,730600\\n2020-02-20,0.570000,0.590000,0.540000,0.560000,0.560000,745600\\n2020-02-21,0.560000,0.630000,0.560000,0.610000,0.610000,1393800\\n2020-02-24,0.610000,0.630000,0.580000,0.600000,0.600000,1063400\\n2020-02-25,0.610000,0.620000,0.550000,0.560000,0.560000,767500\\n2020-02-26,0.560000,0.570000,0.520000,0.530000,0.530000,898600\\n2020-02-27,0.510000,0.610000,0.500000,0.580000,0.580000,2363600\\n2020-02-28,0.590000,0.750000,0.590000,0.750000,0.750000,8079200\\n2020-03-02,0.860000,0.880000,0.650000,0.660000,0.660000,4782300\\n2020-03-03,0.760000,0.800000,0.660000,0.680000,0.680000,3067400\\n2020-03-04,0.680000,0.730000,0.660000,0.710000,0.710000,2234600\\n2020-03-05,0.710000,0.720000,0.660000,0.680000,0.680000,1362600\\n2020-03-06,0.670000,0.700000,0.640000,0.670000,0.670000,1136100\\n2020-03-09,0.670000,0.670000,0.580000,0.600000,0.600000,1293300\\n2020-03-10,0.670000,0.700000,0.620000,0.640000,0.640000,1531700\\n2020-03-11,0.640000,0.650000,0.560000,0.600000,0.600000,735700\\n2020-03-12,0.520000,0.570000,0.500000,0.540000,0.540000,1123800\\n2020-03-13,0.550000,0.570000,0.510000,0.530000,0.530000,941100\\n2020-03-16,0.520000,0.570000,0.500000,0.540000,0.540000,681300\\n2020-03-17,0.520000,0.570000,0.520000,0.550000,0.550000,563100\\n2020-03-18,0.530000,0.550000,0.470000,0.500000,0.500000,1329500\\n2020-03-19,0.490000,0.530000,0.480000,0.510000,0.510000,759700\\n2020-03-20,0.500000,0.540000,0.490000,0.530000,0.530000,742800\\n2020-03-23,0.540000,0.540000,0.500000,0.540000,0.540000,632800\\n2020-03-24,0.530000,0.550000,0.510000,0.540000,0.540000,569100\\n2020-03-25,0.540000,0.570000,0.520000,0.550000,0.550000,784200\\n2020-03-26,0.540000,0.560000,0.540000,0.540000,0.540000,537800\\n2020-03-27,0.540000,0.590000,0.540000,0.560000,0.560000,712500\\n2020-03-30,0.600000,0.600000,0.550000,0.590000,0.590000,801000\\n2020-03-31,0.580000,0.590000,0.560000,0.580000,0.580000,485700\\n2020-04-01,0.570000,0.600000,0.560000,0.570000,0.570000,507200\\n2020-04-02,0.570000,0.570000,0.540000,0.540000,0.540000,383200\\n2020-04-03,0.540000,0.560000,0.530000,0.550000,0.550000,325900\\n2020-04-06,0.530000,0.590000,0.530000,0.580000,0.580000,537400\\n2020-04-07,0.580000,0.600000,0.560000,0.570000,0.570000,423600\\n2020-04-08,0.580000,0.630000,0.560000,0.620000,0.620000,866600\\n2020-04-09,0.720000,0.800000,0.680000,0.760000,0.760000,3671400\\n2020-04-13,0.810000,0.860000,0.780000,0.830000,0.830000,2309700\\n2020-04-14,0.860000,0.860000,0.780000,0.800000,0.800000,1527000\\n2020-04-15,0.390000,0.460000,0.380000,0.460000,0.460000,12321000\\n2020-04-16,0.480000,0.480000,0.360000,0.410000,0.410000,6429000\\n2020-04-17,0.380000,0.410000,0.370000,0.400000,0.400000,2029900\\n2020-04-20,0.400000,0.410000,0.380000,0.390000,0.390000,1816600\\n2020-04-21,0.380000,0.400000,0.370000,0.390000,0.390000,1970400\\n2020-04-22,0.400000,0.400000,0.380000,0.390000,0.390000,1128300\\n2020-04-23,0.400000,0.400000,0.380000,0.400000,0.400000,1144200\\n2020-04-24,0.400000,0.410000,0.380000,0.410000,0.410000,1445800\\n2020-04-27,0.410000,0.430000,0.390000,0.420000,0.420000,1694200\\n2020-04-28,0.450000,0.450000,0.420000,0.430000,0.430000,1150700\\n2020-04-29,0.430000,0.460000,0.420000,0.460000,0.460000,1838200\\n2020-04-30,0.450000,0.460000,0.420000,0.430000,0.430000,1316500\\n2020-05-01,0.430000,0.570000,0.420000,0.500000,0.500000,11842700\\n2020-05-04,0.720000,0.720000,0.520000,0.550000,0.550000,15183600\\n2020-05-05,0.540000,0.550000,0.470000,0.500000,0.500000,4354200\\n2020-05-06,0.510000,0.510000,0.470000,0.490000,0.490000,1426200\\n2020-05-07,0.490000,0.510000,0.470000,0.510000,0.510000,1425200\\n2020-05-08,0.510000,0.530000,0.490000,0.520000,0.520000,1688600\\n2020-05-11,0.500000,0.540000,0.500000,0.540000,0.540000,960700\\n2020-05-12,0.530000,0.600000,0.520000,0.580000,0.580000,4692100\\n2020-05-13,0.600000,0.620000,0.510000,0.540000,0.540000,4258400\\n2020-05-14,0.530000,0.570000,0.510000,0.550000,0.550000,1698300\\n2020-05-15,0.540000,0.560000,0.510000,0.530000,0.530000,1538500\\n2020-05-18,0.530000,0.540000,0.500000,0.540000,0.540000,1570400\\n2020-05-19,0.720000,0.780000,0.600000,0.650000,0.650000,36401000\\n2020-05-20,0.610000,0.680000,0.610000,0.630000,0.630000,5267900\\n2020-05-21,0.630000,0.630000,0.560000,0.590000,0.590000,2856700\\n2020-05-22,0.580000,0.620000,0.560000,0.610000,0.610000,1686200\\n2020-05-26,0.610000,0.620000,0.580000,0.600000,0.600000,1465000\\n2020-05-27,0.580000,0.600000,0.560000,0.590000,0.590000,1232000\\n2020-05-28,0.570000,0.580000,0.570000,0.570000,0.570000,933900\\n2020-05-29,0.560000,0.630000,0.540000,0.560000,0.560000,3925000\\n2020-06-01,0.560000,0.570000,0.540000,0.560000,0.560000,807100\\n2020-06-02,0.550000,0.560000,0.540000,0.560000,0.560000,649700\\n2020-06-03,0.560000,0.560000,0.540000,0.560000,0.560000,842000\\n2020-06-04,0.550000,0.560000,0.540000,0.560000,0.560000,958700\\n2020-06-05,0.540000,0.590000,0.540000,0.590000,0.590000,1285400\\n2020-06-08,0.610000,0.640000,0.580000,0.630000,0.630000,2988600\\n2020-06-09,0.610000,0.630000,0.600000,0.630000,0.630000,2028500\\n2020-06-10,0.700000,0.700000,0.550000,0.590000,0.590000,5497100\\n2020-06-11,0.540000,0.560000,0.520000,0.550000,0.550000,1681300\\n2020-06-12,0.590000,0.590000,0.530000,0.560000,0.560000,861200\\n2020-06-15,0.550000,0.550000,0.530000,0.550000,0.550000,903700\\n2020-06-16,0.550000,0.570000,0.540000,0.570000,0.570000,783000\\n2020-06-17,0.560000,0.560000,0.530000,0.540000,0.540000,440500\\n2020-06-18,0.530000,0.550000,0.530000,0.540000,0.540000,297900\\n2020-06-19,0.550000,0.550000,0.520000,0.520000,0.520000,1013800\\n2020-06-22,0.520000,0.540000,0.520000,0.530000,0.530000,596100\\n2020-06-23,0.540000,0.540000,0.520000,0.530000,0.530000,506200\\n2020-06-24,0.530000,0.530000,0.500000,0.510000,0.510000,851100\\n2020-06-25,0.510000,0.520000,0.500000,0.510000,0.510000,353000\\n2020-06-26,0.520000,0.600000,0.500000,0.560000,0.560000,5431100\\n2020-06-29,0.570000,0.790000,0.560000,0.690000,0.690000,16161800\\n2020-06-30,0.650000,0.730000,0.610000,0.690000,0.690000,8051000\\n2020-07-01,0.750000,0.920000,0.710000,0.820000,0.820000,17708700\\n2020-07-02,0.770000,0.800000,0.700000,0.750000,0.750000,6262600\\n2020-07-06,0.750000,0.810000,0.740000,0.770000,0.770000,2631600\\n2020-07-07,0.760000,0.840000,0.750000,0.790000,0.790000,4926400\\n2020-07-08,0.790000,0.800000,0.760000,0.790000,0.790000,2023500\\n2020-07-09,0.800000,1.120000,0.800000,0.970000,0.970000,37454000\\n2020-07-10,1.150000,1.320000,1.000000,1.030000,1.030000,67790800\\n2020-07-13,1.000000,1.020000,0.860000,0.880000,0.880000,12704600\\n2020-07-14,0.880000,0.990000,0.870000,0.920000,0.920000,8423700\\n2020-07-15,0.930000,1.010000,0.870000,0.950000,0.950000,8024600\\n2020-07-16,0.920000,1.150000,0.900000,1.130000,1.130000,12353200\\n2020-07-17,1.140000,1.230000,1.040000,1.110000,1.110000,9600500\\n2020-07-20,1.240000,1.840000,1.160000,1.470000,1.470000,60847000\\n2020-07-21,1.750000,1.780000,1.200000,1.360000,1.360000,33563900\\n2020-07-22,1.970000,2.090000,1.400000,1.490000,1.490000,77127700\\n2020-07-23,1.480000,1.490000,1.260000,1.380000,1.380000,10313100\\n2020-07-24,1.270000,1.350000,1.220000,1.320000,1.320000,5985500\\n2020-07-27,1.240000,1.280000,1.130000,1.180000,1.180000,8191900\\n2020-07-28,1.150000,1.160000,1.040000,1.110000,1.110000,5583700\\n2020-07-29,1.060000,1.160000,1.040000,1.120000,1.120000,5993300\\n2020-07-30,1.140000,1.220000,1.100000,1.150000,1.150000,8236900\\n2020-07-31,1.110000,1.270000,1.110000,1.210000,1.210000,5998500\\n2020-08-03,1.200000,1.240000,1.130000,1.180000,1.180000,6615400\\n2020-08-04,1.170000,1.180000,1.120000,1.160000,1.160000,6452200\\n2020-08-05,1.130000,1.160000,1.120000,1.130000,1.130000,2894200\\n2020-08-06,1.100000,1.110000,1.060000,1.070000,1.070000,3000200\\n2020-08-07,1.080000,1.090000,0.970000,1.060000,1.060000,5476800\\n2020-08-10,1.030000,1.060000,1.030000,1.040000,1.040000,1610800\\n2020-08-11,1.040000,1.050000,0.900000,0.920000,0.920000,3922500\\n2020-08-12,0.930000,0.950000,0.840000,0.890000,0.890000,2958100\\n2020-08-13,0.900000,1.020000,0.880000,0.980000,0.980000,5758800\\n2020-08-14,0.970000,0.970000,0.890000,0.910000,0.910000,2712000\\n2020-08-17,0.880000,0.950000,0.870000,0.940000,0.940000,2044200\\n2020-08-18,0.930000,0.940000,0.880000,0.900000,0.900000,1524300\\n2020-08-19,0.870000,0.880000,0.830000,0.870000,0.870000,1560200\\n2020-08-20,1.020000,1.090000,0.880000,0.920000,0.920000,18507400\\n2020-08-21,1.040000,1.040000,0.880000,0.920000,0.920000,6677500\\n2020-08-24,0.870000,0.890000,0.810000,0.840000,0.840000,3328600\\n2020-08-25,0.790000,0.800000,0.710000,0.780000,0.780000,4198900\\n2020-08-26,0.760000,0.780000,0.750000,0.760000,0.760000,980600\\n2020-08-27,0.750000,0.760000,0.680000,0.720000,0.720000,2018700\\n2020-08-28,0.720000,0.750000,0.710000,0.740000,0.740000,1483600\\n2020-08-31,0.730000,0.740000,0.720000,0.730000,0.730000,887700\\n2020-09-01,0.700000,0.710000,0.690000,0.700000,0.700000,919200\\n2020-09-02,0.690000,0.690000,0.620000,0.660000,0.660000,1317300\\n2020-09-03,0.600000,0.660000,0.600000,0.640000,0.640000,1058400\\n2020-09-04,0.610000,0.620000,0.540000,0.580000,0.580000,2018000\\n2020-09-08,0.590000,0.700000,0.580000,0.620000,0.620000,2539900\\n2020-09-09,0.640000,0.700000,0.620000,0.660000,0.660000,2643500\\n2020-09-10,0.670000,0.680000,0.620000,0.620000,0.620000,795800\\n2020-09-11,0.640000,0.660000,0.610000,0.640000,0.640000,707500\\n2020-09-14,0.650000,0.690000,0.640000,0.680000,0.680000,1125900\\n2020-09-15,0.690000,0.790000,0.690000,0.750000,0.750000,4050300\\n2020-09-16,0.780000,0.810000,0.680000,0.720000,0.720000,4551400\\n2020-09-17,0.710000,0.730000,0.660000,0.700000,0.700000,1180400\\n2020-09-18,0.710000,0.740000,0.680000,0.710000,0.710000,1314900\\n2020-09-21,0.660000,0.730000,0.660000,0.700000,0.700000,2075500\\n2020-09-22,0.690000,0.710000,0.680000,0.690000,0.690000,756500\\n2020-09-23,0.690000,0.710000,0.640000,0.660000,0.660000,1525600\\n2020-09-24,0.640000,0.650000,0.600000,0.620000,0.620000,1258400\\n2020-09-25,0.600000,0.650000,0.600000,0.630000,0.630000,758700\\n2020-09-28,0.550000,0.600000,0.530000,0.560000,0.560000,4149100\\n2020-09-29,0.550000,0.620000,0.550000,0.580000,0.580000,1556300\\n2020-09-30,0.580000,0.610000,0.570000,0.570000,0.570000,786400\\n2020-10-01,0.600000,0.600000,0.560000,0.570000,0.570000,686300\\n2020-10-02,0.550000,0.620000,0.550000,0.600000,0.600000,2462600\\n2020-10-05,0.590000,0.620000,0.590000,0.600000,0.600000,900700\\n2020-10-06,0.780000,0.780000,0.590000,0.600000,0.600000,18346000\\n2020-10-07,0.620000,0.620000,0.580000,0.580000,0.580000,3439000\\n2020-10-08,0.580000,0.580000,0.550000,0.560000,0.560000,5019100\\n2020-10-09,0.560000,0.570000,0.540000,0.550000,0.550000,2570600\\n2020-10-12,0.560000,0.560000,0.540000,0.550000,0.550000,1505000\\n2020-10-13,0.550000,0.600000,0.540000,0.600000,0.600000,7026300\\n2020-10-14,0.610000,0.610000,0.560000,0.580000,0.580000,2275600\\n2020-10-15,0.580000,0.590000,0.560000,0.580000,0.580000,959400\\n2020-10-16,0.580000,0.580000,0.560000,0.570000,0.570000,1501200\\n2020-10-19,0.570000,0.580000,0.560000,0.570000,0.570000,1095000\\n2020-10-20,0.560000,0.570000,0.530000,0.550000,0.550000,1520200\\n2020-10-21,0.560000,0.560000,0.530000,0.540000,0.540000,1083400\\n2020-10-22,0.540000,0.550000,0.520000,0.540000,0.540000,1069500\\n2020-10-23,0.540000,0.540000,0.530000,0.540000,0.540000,476500\\n2020-10-26,0.530000,0.570000,0.520000,0.550000,0.550000,2601400\\n2020-10-27,0.540000,0.540000,0.520000,0.530000,0.530000,696500\\n2020-10-28,0.530000,0.530000,0.500000,0.520000,0.520000,855200\\n2020-10-29,0.520000,0.520000,0.500000,0.520000,0.520000,660600\\n2020-10-30,0.510000,0.520000,0.440000,0.470000,0.470000,1400800\\n2020-11-02,0.470000,0.500000,0.470000,0.490000,0.490000,536800\\n2020-11-03,0.500000,0.500000,0.480000,0.490000,0.490000,610000\\n2020-11-04,0.490000,0.500000,0.480000,0.490000,0.490000,399000\\n2020-11-05,0.460000,0.500000,0.460000,0.490000,0.490000,608000\\n2020-11-06,0.500000,0.500000,0.480000,0.500000,0.500000,571200\\n2020-11-09,0.470000,0.490000,0.460000,0.470000,0.470000,1389100\\n2020-11-10,0.470000,0.480000,0.450000,0.450000,0.450000,1811800\\n2020-11-11,0.450000,0.500000,0.440000,0.490000,0.490000,3661900\\n2020-11-12,0.480000,0.490000,0.470000,0.480000,0.480000,1057300\\n2020-11-13,0.480000,0.490000,0.460000,0.470000,0.470000,976800\\n2020-11-16,0.470000,0.480000,0.460000,0.460000,0.460000,899600\\n2020-11-17,0.460000,0.490000,0.460000,0.490000,0.490000,874000\\n2020-11-18,0.490000,0.490000,0.460000,0.470000,0.470000,1131300\\n2020-11-19,0.470000,0.560000,0.460000,0.530000,0.530000,8293500\\n2020-11-20,0.390000,0.410000,0.380000,0.400000,0.400000,24945700\\n2020-11-23,0.410000,0.410000,0.380000,0.390000,0.390000,5642000\\n2020-11-24,0.400000,0.400000,0.380000,0.390000,0.390000,4453500\\n2020-11-25,0.390000,0.420000,0.390000,0.390000,0.390000,4468500\\n2020-11-27,0.430000,0.430000,0.410000,0.410000,0.410000,2885900\\n2020-11-30,0.420000,0.430000,0.410000,0.430000,0.430000,3210100\\n2020-12-01,0.430000,0.450000,0.420000,0.420000,0.420000,4276500\\n2020-12-02,0.420000,0.650000,0.410000,0.490000,0.490000,112665800\\n2020-12-03,0.490000,0.500000,0.450000,0.460000,0.460000,14279500\\n2020-12-04,0.460000,0.480000,0.430000,0.470000,0.470000,10084100\\n2020-12-07,0.480000,0.480000,0.450000,0.460000,0.460000,4280900\\n2020-12-08,0.450000,0.470000,0.430000,0.460000,0.460000,3470800\\n2020-12-09,0.455500,0.456000,0.446500,0.447000,0.447000,740070'"
      ]
     },
     "execution_count": 170,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "response.text"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 171,
   "metadata": {},
   "outputs": [
    {
     "ename": "SyntaxError",
     "evalue": "EOL while scanning string literal (<ipython-input-171-f8f81e86099e>, line 1)",
     "output_type": "error",
     "traceback": [
      "\u001b[0;36m  File \u001b[0;32m\"<ipython-input-171-f8f81e86099e>\"\u001b[0;36m, line \u001b[0;32m1\u001b[0m\n\u001b[0;31m    stock_url = 'https://query1.finance.yahoo.com/v7/finance/download/{}?''\u001b[0m\n\u001b[0m                                                                           ^\u001b[0m\n\u001b[0;31mSyntaxError\u001b[0m\u001b[0;31m:\u001b[0m EOL while scanning string literal\n"
     ]
    }
   ],
   "source": [
    "stock_url = 'https://query1.finance.yahoo.com/v7/finance/download/{}?''\n",
    "\n",
    "params = {\n",
    "    'period1':'1575904001',\n",
    "    'period2':'1607526401',\n",
    "    'interval':'1d',\n",
    "    'events' :'history'\n",
    "}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 172,
   "metadata": {},
   "outputs": [],
   "source": [
    "params = {\n",
    "    'range': '1m',\n",
    "    'interval': '1d',\n",
    "    'events': 'history'\n",
    "}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 173,
   "metadata": {},
   "outputs": [
    {
     "ename": "TypeError",
     "evalue": "unsupported operand type(s) for -: 'dict' and 'dict'",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-173-5063908f5a26>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mresponse\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mrequests\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mstock_url\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mformat\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mstock\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mparams\u001b[0m\u001b[0;34m-\u001b[0m\u001b[0mparams\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m",
      "\u001b[0;31mTypeError\u001b[0m: unsupported operand type(s) for -: 'dict' and 'dict'"
     ]
    }
   ],
   "source": [
    "response = requests.get(stock_url.format(stock), params-params)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 174,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'Date,Open,High,Low,Close,Adj Close,Volume\\n2019-12-09,0.550000,0.560000,0.550000,0.560000,0.560000,554900\\n2019-12-10,0.550000,0.580000,0.540000,0.560000,0.560000,927000\\n2019-12-11,0.550000,0.560000,0.520000,0.530000,0.530000,519400\\n2019-12-12,0.510000,0.540000,0.510000,0.520000,0.520000,400700\\n2019-12-13,0.520000,0.530000,0.510000,0.520000,0.520000,250200\\n2019-12-16,0.540000,0.540000,0.510000,0.510000,0.510000,265900\\n2019-12-17,0.520000,0.540000,0.510000,0.530000,0.530000,634100\\n2019-12-18,0.540000,0.540000,0.500000,0.500000,0.500000,461300\\n2019-12-19,0.520000,0.530000,0.500000,0.510000,0.510000,215000\\n2019-12-20,0.510000,0.520000,0.500000,0.510000,0.510000,163000\\n2019-12-23,0.510000,0.540000,0.500000,0.530000,0.530000,711800\\n2019-12-24,0.540000,0.550000,0.530000,0.550000,0.550000,446300\\n2019-12-26,0.560000,0.560000,0.530000,0.540000,0.540000,574800\\n2019-12-27,0.540000,0.540000,0.510000,0.530000,0.530000,496900\\n2019-12-30,0.520000,0.550000,0.520000,0.520000,0.520000,482500\\n2019-12-31,0.520000,0.530000,0.520000,0.520000,0.520000,1214700\\n2020-01-02,0.500000,0.510000,0.470000,0.510000,0.510000,1063400\\n2020-01-03,0.490000,0.500000,0.480000,0.490000,0.490000,560700\\n2020-01-06,0.490000,0.490000,0.460000,0.480000,0.480000,730100\\n2020-01-07,0.490000,0.490000,0.480000,0.480000,0.480000,297700\\n2020-01-08,0.480000,0.480000,0.470000,0.480000,0.480000,583600\\n2020-01-09,0.490000,0.490000,0.470000,0.470000,0.470000,359400\\n2020-01-10,0.480000,0.490000,0.470000,0.480000,0.480000,377500\\n2020-01-13,0.490000,0.490000,0.470000,0.480000,0.480000,436000\\n2020-01-14,0.470000,0.480000,0.470000,0.480000,0.480000,283800\\n2020-01-15,0.470000,0.480000,0.460000,0.470000,0.470000,660800\\n2020-01-16,0.480000,0.480000,0.470000,0.470000,0.470000,365600\\n2020-01-17,0.470000,0.470000,0.460000,0.460000,0.460000,464700\\n2020-01-21,0.460000,0.460000,0.440000,0.450000,0.450000,782700\\n2020-01-22,0.460000,0.460000,0.430000,0.450000,0.450000,661700\\n2020-01-23,0.450000,0.470000,0.450000,0.470000,0.470000,666200\\n2020-01-24,0.470000,0.470000,0.450000,0.450000,0.450000,484300\\n2020-01-27,0.450000,0.450000,0.430000,0.440000,0.440000,415800\\n2020-01-28,0.440000,0.460000,0.430000,0.430000,0.430000,254900\\n2020-01-29,0.440000,0.440000,0.430000,0.440000,0.440000,405600\\n2020-01-30,0.440000,0.440000,0.420000,0.440000,0.440000,465300\\n2020-01-31,0.440000,0.460000,0.430000,0.440000,0.440000,490200\\n2020-02-03,0.460000,0.460000,0.440000,0.440000,0.440000,320100\\n2020-02-04,0.440000,0.460000,0.440000,0.440000,0.440000,462100\\n2020-02-05,0.460000,0.480000,0.450000,0.480000,0.480000,718800\\n2020-02-06,0.480000,0.550000,0.470000,0.530000,0.530000,2758700\\n2020-02-07,0.540000,0.650000,0.540000,0.620000,0.620000,5305200\\n2020-02-10,0.690000,0.770000,0.500000,0.590000,0.590000,9541500\\n2020-02-11,0.580000,0.590000,0.530000,0.540000,0.540000,1747100\\n2020-02-12,0.550000,0.550000,0.500000,0.510000,0.510000,1395600\\n2020-02-13,0.510000,0.590000,0.500000,0.550000,0.550000,1911300\\n2020-02-14,0.550000,0.550000,0.520000,0.530000,0.530000,743300\\n2020-02-18,0.530000,0.550000,0.520000,0.550000,0.550000,439200\\n2020-02-19,0.540000,0.560000,0.530000,0.560000,0.560000,730600\\n2020-02-20,0.570000,0.590000,0.540000,0.560000,0.560000,745600\\n2020-02-21,0.560000,0.630000,0.560000,0.610000,0.610000,1393800\\n2020-02-24,0.610000,0.630000,0.580000,0.600000,0.600000,1063400\\n2020-02-25,0.610000,0.620000,0.550000,0.560000,0.560000,767500\\n2020-02-26,0.560000,0.570000,0.520000,0.530000,0.530000,898600\\n2020-02-27,0.510000,0.610000,0.500000,0.580000,0.580000,2363600\\n2020-02-28,0.590000,0.750000,0.590000,0.750000,0.750000,8079200\\n2020-03-02,0.860000,0.880000,0.650000,0.660000,0.660000,4782300\\n2020-03-03,0.760000,0.800000,0.660000,0.680000,0.680000,3067400\\n2020-03-04,0.680000,0.730000,0.660000,0.710000,0.710000,2234600\\n2020-03-05,0.710000,0.720000,0.660000,0.680000,0.680000,1362600\\n2020-03-06,0.670000,0.700000,0.640000,0.670000,0.670000,1136100\\n2020-03-09,0.670000,0.670000,0.580000,0.600000,0.600000,1293300\\n2020-03-10,0.670000,0.700000,0.620000,0.640000,0.640000,1531700\\n2020-03-11,0.640000,0.650000,0.560000,0.600000,0.600000,735700\\n2020-03-12,0.520000,0.570000,0.500000,0.540000,0.540000,1123800\\n2020-03-13,0.550000,0.570000,0.510000,0.530000,0.530000,941100\\n2020-03-16,0.520000,0.570000,0.500000,0.540000,0.540000,681300\\n2020-03-17,0.520000,0.570000,0.520000,0.550000,0.550000,563100\\n2020-03-18,0.530000,0.550000,0.470000,0.500000,0.500000,1329500\\n2020-03-19,0.490000,0.530000,0.480000,0.510000,0.510000,759700\\n2020-03-20,0.500000,0.540000,0.490000,0.530000,0.530000,742800\\n2020-03-23,0.540000,0.540000,0.500000,0.540000,0.540000,632800\\n2020-03-24,0.530000,0.550000,0.510000,0.540000,0.540000,569100\\n2020-03-25,0.540000,0.570000,0.520000,0.550000,0.550000,784200\\n2020-03-26,0.540000,0.560000,0.540000,0.540000,0.540000,537800\\n2020-03-27,0.540000,0.590000,0.540000,0.560000,0.560000,712500\\n2020-03-30,0.600000,0.600000,0.550000,0.590000,0.590000,801000\\n2020-03-31,0.580000,0.590000,0.560000,0.580000,0.580000,485700\\n2020-04-01,0.570000,0.600000,0.560000,0.570000,0.570000,507200\\n2020-04-02,0.570000,0.570000,0.540000,0.540000,0.540000,383200\\n2020-04-03,0.540000,0.560000,0.530000,0.550000,0.550000,325900\\n2020-04-06,0.530000,0.590000,0.530000,0.580000,0.580000,537400\\n2020-04-07,0.580000,0.600000,0.560000,0.570000,0.570000,423600\\n2020-04-08,0.580000,0.630000,0.560000,0.620000,0.620000,866600\\n2020-04-09,0.720000,0.800000,0.680000,0.760000,0.760000,3671400\\n2020-04-13,0.810000,0.860000,0.780000,0.830000,0.830000,2309700\\n2020-04-14,0.860000,0.860000,0.780000,0.800000,0.800000,1527000\\n2020-04-15,0.390000,0.460000,0.380000,0.460000,0.460000,12321000\\n2020-04-16,0.480000,0.480000,0.360000,0.410000,0.410000,6429000\\n2020-04-17,0.380000,0.410000,0.370000,0.400000,0.400000,2029900\\n2020-04-20,0.400000,0.410000,0.380000,0.390000,0.390000,1816600\\n2020-04-21,0.380000,0.400000,0.370000,0.390000,0.390000,1970400\\n2020-04-22,0.400000,0.400000,0.380000,0.390000,0.390000,1128300\\n2020-04-23,0.400000,0.400000,0.380000,0.400000,0.400000,1144200\\n2020-04-24,0.400000,0.410000,0.380000,0.410000,0.410000,1445800\\n2020-04-27,0.410000,0.430000,0.390000,0.420000,0.420000,1694200\\n2020-04-28,0.450000,0.450000,0.420000,0.430000,0.430000,1150700\\n2020-04-29,0.430000,0.460000,0.420000,0.460000,0.460000,1838200\\n2020-04-30,0.450000,0.460000,0.420000,0.430000,0.430000,1316500\\n2020-05-01,0.430000,0.570000,0.420000,0.500000,0.500000,11842700\\n2020-05-04,0.720000,0.720000,0.520000,0.550000,0.550000,15183600\\n2020-05-05,0.540000,0.550000,0.470000,0.500000,0.500000,4354200\\n2020-05-06,0.510000,0.510000,0.470000,0.490000,0.490000,1426200\\n2020-05-07,0.490000,0.510000,0.470000,0.510000,0.510000,1425200\\n2020-05-08,0.510000,0.530000,0.490000,0.520000,0.520000,1688600\\n2020-05-11,0.500000,0.540000,0.500000,0.540000,0.540000,960700\\n2020-05-12,0.530000,0.600000,0.520000,0.580000,0.580000,4692100\\n2020-05-13,0.600000,0.620000,0.510000,0.540000,0.540000,4258400\\n2020-05-14,0.530000,0.570000,0.510000,0.550000,0.550000,1698300\\n2020-05-15,0.540000,0.560000,0.510000,0.530000,0.530000,1538500\\n2020-05-18,0.530000,0.540000,0.500000,0.540000,0.540000,1570400\\n2020-05-19,0.720000,0.780000,0.600000,0.650000,0.650000,36401000\\n2020-05-20,0.610000,0.680000,0.610000,0.630000,0.630000,5267900\\n2020-05-21,0.630000,0.630000,0.560000,0.590000,0.590000,2856700\\n2020-05-22,0.580000,0.620000,0.560000,0.610000,0.610000,1686200\\n2020-05-26,0.610000,0.620000,0.580000,0.600000,0.600000,1465000\\n2020-05-27,0.580000,0.600000,0.560000,0.590000,0.590000,1232000\\n2020-05-28,0.570000,0.580000,0.570000,0.570000,0.570000,933900\\n2020-05-29,0.560000,0.630000,0.540000,0.560000,0.560000,3925000\\n2020-06-01,0.560000,0.570000,0.540000,0.560000,0.560000,807100\\n2020-06-02,0.550000,0.560000,0.540000,0.560000,0.560000,649700\\n2020-06-03,0.560000,0.560000,0.540000,0.560000,0.560000,842000\\n2020-06-04,0.550000,0.560000,0.540000,0.560000,0.560000,958700\\n2020-06-05,0.540000,0.590000,0.540000,0.590000,0.590000,1285400\\n2020-06-08,0.610000,0.640000,0.580000,0.630000,0.630000,2988600\\n2020-06-09,0.610000,0.630000,0.600000,0.630000,0.630000,2028500\\n2020-06-10,0.700000,0.700000,0.550000,0.590000,0.590000,5497100\\n2020-06-11,0.540000,0.560000,0.520000,0.550000,0.550000,1681300\\n2020-06-12,0.590000,0.590000,0.530000,0.560000,0.560000,861200\\n2020-06-15,0.550000,0.550000,0.530000,0.550000,0.550000,903700\\n2020-06-16,0.550000,0.570000,0.540000,0.570000,0.570000,783000\\n2020-06-17,0.560000,0.560000,0.530000,0.540000,0.540000,440500\\n2020-06-18,0.530000,0.550000,0.530000,0.540000,0.540000,297900\\n2020-06-19,0.550000,0.550000,0.520000,0.520000,0.520000,1013800\\n2020-06-22,0.520000,0.540000,0.520000,0.530000,0.530000,596100\\n2020-06-23,0.540000,0.540000,0.520000,0.530000,0.530000,506200\\n2020-06-24,0.530000,0.530000,0.500000,0.510000,0.510000,851100\\n2020-06-25,0.510000,0.520000,0.500000,0.510000,0.510000,353000\\n2020-06-26,0.520000,0.600000,0.500000,0.560000,0.560000,5431100\\n2020-06-29,0.570000,0.790000,0.560000,0.690000,0.690000,16161800\\n2020-06-30,0.650000,0.730000,0.610000,0.690000,0.690000,8051000\\n2020-07-01,0.750000,0.920000,0.710000,0.820000,0.820000,17708700\\n2020-07-02,0.770000,0.800000,0.700000,0.750000,0.750000,6262600\\n2020-07-06,0.750000,0.810000,0.740000,0.770000,0.770000,2631600\\n2020-07-07,0.760000,0.840000,0.750000,0.790000,0.790000,4926400\\n2020-07-08,0.790000,0.800000,0.760000,0.790000,0.790000,2023500\\n2020-07-09,0.800000,1.120000,0.800000,0.970000,0.970000,37454000\\n2020-07-10,1.150000,1.320000,1.000000,1.030000,1.030000,67790800\\n2020-07-13,1.000000,1.020000,0.860000,0.880000,0.880000,12704600\\n2020-07-14,0.880000,0.990000,0.870000,0.920000,0.920000,8423700\\n2020-07-15,0.930000,1.010000,0.870000,0.950000,0.950000,8024600\\n2020-07-16,0.920000,1.150000,0.900000,1.130000,1.130000,12353200\\n2020-07-17,1.140000,1.230000,1.040000,1.110000,1.110000,9600500\\n2020-07-20,1.240000,1.840000,1.160000,1.470000,1.470000,60847000\\n2020-07-21,1.750000,1.780000,1.200000,1.360000,1.360000,33563900\\n2020-07-22,1.970000,2.090000,1.400000,1.490000,1.490000,77127700\\n2020-07-23,1.480000,1.490000,1.260000,1.380000,1.380000,10313100\\n2020-07-24,1.270000,1.350000,1.220000,1.320000,1.320000,5985500\\n2020-07-27,1.240000,1.280000,1.130000,1.180000,1.180000,8191900\\n2020-07-28,1.150000,1.160000,1.040000,1.110000,1.110000,5583700\\n2020-07-29,1.060000,1.160000,1.040000,1.120000,1.120000,5993300\\n2020-07-30,1.140000,1.220000,1.100000,1.150000,1.150000,8236900\\n2020-07-31,1.110000,1.270000,1.110000,1.210000,1.210000,5998500\\n2020-08-03,1.200000,1.240000,1.130000,1.180000,1.180000,6615400\\n2020-08-04,1.170000,1.180000,1.120000,1.160000,1.160000,6452200\\n2020-08-05,1.130000,1.160000,1.120000,1.130000,1.130000,2894200\\n2020-08-06,1.100000,1.110000,1.060000,1.070000,1.070000,3000200\\n2020-08-07,1.080000,1.090000,0.970000,1.060000,1.060000,5476800\\n2020-08-10,1.030000,1.060000,1.030000,1.040000,1.040000,1610800\\n2020-08-11,1.040000,1.050000,0.900000,0.920000,0.920000,3922500\\n2020-08-12,0.930000,0.950000,0.840000,0.890000,0.890000,2958100\\n2020-08-13,0.900000,1.020000,0.880000,0.980000,0.980000,5758800\\n2020-08-14,0.970000,0.970000,0.890000,0.910000,0.910000,2712000\\n2020-08-17,0.880000,0.950000,0.870000,0.940000,0.940000,2044200\\n2020-08-18,0.930000,0.940000,0.880000,0.900000,0.900000,1524300\\n2020-08-19,0.870000,0.880000,0.830000,0.870000,0.870000,1560200\\n2020-08-20,1.020000,1.090000,0.880000,0.920000,0.920000,18507400\\n2020-08-21,1.040000,1.040000,0.880000,0.920000,0.920000,6677500\\n2020-08-24,0.870000,0.890000,0.810000,0.840000,0.840000,3328600\\n2020-08-25,0.790000,0.800000,0.710000,0.780000,0.780000,4198900\\n2020-08-26,0.760000,0.780000,0.750000,0.760000,0.760000,980600\\n2020-08-27,0.750000,0.760000,0.680000,0.720000,0.720000,2018700\\n2020-08-28,0.720000,0.750000,0.710000,0.740000,0.740000,1483600\\n2020-08-31,0.730000,0.740000,0.720000,0.730000,0.730000,887700\\n2020-09-01,0.700000,0.710000,0.690000,0.700000,0.700000,919200\\n2020-09-02,0.690000,0.690000,0.620000,0.660000,0.660000,1317300\\n2020-09-03,0.600000,0.660000,0.600000,0.640000,0.640000,1058400\\n2020-09-04,0.610000,0.620000,0.540000,0.580000,0.580000,2018000\\n2020-09-08,0.590000,0.700000,0.580000,0.620000,0.620000,2539900\\n2020-09-09,0.640000,0.700000,0.620000,0.660000,0.660000,2643500\\n2020-09-10,0.670000,0.680000,0.620000,0.620000,0.620000,795800\\n2020-09-11,0.640000,0.660000,0.610000,0.640000,0.640000,707500\\n2020-09-14,0.650000,0.690000,0.640000,0.680000,0.680000,1125900\\n2020-09-15,0.690000,0.790000,0.690000,0.750000,0.750000,4050300\\n2020-09-16,0.780000,0.810000,0.680000,0.720000,0.720000,4551400\\n2020-09-17,0.710000,0.730000,0.660000,0.700000,0.700000,1180400\\n2020-09-18,0.710000,0.740000,0.680000,0.710000,0.710000,1314900\\n2020-09-21,0.660000,0.730000,0.660000,0.700000,0.700000,2075500\\n2020-09-22,0.690000,0.710000,0.680000,0.690000,0.690000,756500\\n2020-09-23,0.690000,0.710000,0.640000,0.660000,0.660000,1525600\\n2020-09-24,0.640000,0.650000,0.600000,0.620000,0.620000,1258400\\n2020-09-25,0.600000,0.650000,0.600000,0.630000,0.630000,758700\\n2020-09-28,0.550000,0.600000,0.530000,0.560000,0.560000,4149100\\n2020-09-29,0.550000,0.620000,0.550000,0.580000,0.580000,1556300\\n2020-09-30,0.580000,0.610000,0.570000,0.570000,0.570000,786400\\n2020-10-01,0.600000,0.600000,0.560000,0.570000,0.570000,686300\\n2020-10-02,0.550000,0.620000,0.550000,0.600000,0.600000,2462600\\n2020-10-05,0.590000,0.620000,0.590000,0.600000,0.600000,900700\\n2020-10-06,0.780000,0.780000,0.590000,0.600000,0.600000,18346000\\n2020-10-07,0.620000,0.620000,0.580000,0.580000,0.580000,3439000\\n2020-10-08,0.580000,0.580000,0.550000,0.560000,0.560000,5019100\\n2020-10-09,0.560000,0.570000,0.540000,0.550000,0.550000,2570600\\n2020-10-12,0.560000,0.560000,0.540000,0.550000,0.550000,1505000\\n2020-10-13,0.550000,0.600000,0.540000,0.600000,0.600000,7026300\\n2020-10-14,0.610000,0.610000,0.560000,0.580000,0.580000,2275600\\n2020-10-15,0.580000,0.590000,0.560000,0.580000,0.580000,959400\\n2020-10-16,0.580000,0.580000,0.560000,0.570000,0.570000,1501200\\n2020-10-19,0.570000,0.580000,0.560000,0.570000,0.570000,1095000\\n2020-10-20,0.560000,0.570000,0.530000,0.550000,0.550000,1520200\\n2020-10-21,0.560000,0.560000,0.530000,0.540000,0.540000,1083400\\n2020-10-22,0.540000,0.550000,0.520000,0.540000,0.540000,1069500\\n2020-10-23,0.540000,0.540000,0.530000,0.540000,0.540000,476500\\n2020-10-26,0.530000,0.570000,0.520000,0.550000,0.550000,2601400\\n2020-10-27,0.540000,0.540000,0.520000,0.530000,0.530000,696500\\n2020-10-28,0.530000,0.530000,0.500000,0.520000,0.520000,855200\\n2020-10-29,0.520000,0.520000,0.500000,0.520000,0.520000,660600\\n2020-10-30,0.510000,0.520000,0.440000,0.470000,0.470000,1400800\\n2020-11-02,0.470000,0.500000,0.470000,0.490000,0.490000,536800\\n2020-11-03,0.500000,0.500000,0.480000,0.490000,0.490000,610000\\n2020-11-04,0.490000,0.500000,0.480000,0.490000,0.490000,399000\\n2020-11-05,0.460000,0.500000,0.460000,0.490000,0.490000,608000\\n2020-11-06,0.500000,0.500000,0.480000,0.500000,0.500000,571200\\n2020-11-09,0.470000,0.490000,0.460000,0.470000,0.470000,1389100\\n2020-11-10,0.470000,0.480000,0.450000,0.450000,0.450000,1811800\\n2020-11-11,0.450000,0.500000,0.440000,0.490000,0.490000,3661900\\n2020-11-12,0.480000,0.490000,0.470000,0.480000,0.480000,1057300\\n2020-11-13,0.480000,0.490000,0.460000,0.470000,0.470000,976800\\n2020-11-16,0.470000,0.480000,0.460000,0.460000,0.460000,899600\\n2020-11-17,0.460000,0.490000,0.460000,0.490000,0.490000,874000\\n2020-11-18,0.490000,0.490000,0.460000,0.470000,0.470000,1131300\\n2020-11-19,0.470000,0.560000,0.460000,0.530000,0.530000,8293500\\n2020-11-20,0.390000,0.410000,0.380000,0.400000,0.400000,24945700\\n2020-11-23,0.410000,0.410000,0.380000,0.390000,0.390000,5642000\\n2020-11-24,0.400000,0.400000,0.380000,0.390000,0.390000,4453500\\n2020-11-25,0.390000,0.420000,0.390000,0.390000,0.390000,4468500\\n2020-11-27,0.430000,0.430000,0.410000,0.410000,0.410000,2885900\\n2020-11-30,0.420000,0.430000,0.410000,0.430000,0.430000,3210100\\n2020-12-01,0.430000,0.450000,0.420000,0.420000,0.420000,4276500\\n2020-12-02,0.420000,0.650000,0.410000,0.490000,0.490000,112665800\\n2020-12-03,0.490000,0.500000,0.450000,0.460000,0.460000,14279500\\n2020-12-04,0.460000,0.480000,0.430000,0.470000,0.470000,10084100\\n2020-12-07,0.480000,0.480000,0.450000,0.460000,0.460000,4280900\\n2020-12-08,0.450000,0.470000,0.430000,0.460000,0.460000,3470800\\n2020-12-09,0.455500,0.456000,0.446500,0.447000,0.447000,740070'"
      ]
     },
     "execution_count": 174,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "response.text"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 175,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "['Date', 'Open', 'High', 'Low', 'Close', 'Adj Close', 'Volume']\n",
      "['2019-12-09', '0.550000', '0.560000', '0.550000', '0.560000', '0.560000', '554900']\n",
      "['2019-12-10', '0.550000', '0.580000', '0.540000', '0.560000', '0.560000', '927000']\n",
      "['2019-12-11', '0.550000', '0.560000', '0.520000', '0.530000', '0.530000', '519400']\n",
      "['2019-12-12', '0.510000', '0.540000', '0.510000', '0.520000', '0.520000', '400700']\n",
      "['2019-12-13', '0.520000', '0.530000', '0.510000', '0.520000', '0.520000', '250200']\n",
      "['2019-12-16', '0.540000', '0.540000', '0.510000', '0.510000', '0.510000', '265900']\n",
      "['2019-12-17', '0.520000', '0.540000', '0.510000', '0.530000', '0.530000', '634100']\n",
      "['2019-12-18', '0.540000', '0.540000', '0.500000', '0.500000', '0.500000', '461300']\n",
      "['2019-12-19', '0.520000', '0.530000', '0.500000', '0.510000', '0.510000', '215000']\n"
     ]
    }
   ],
   "source": [
    "file = StringIO(response.text)\n",
    "reader = csv.reader(file)\n",
    "data = list(reader)\n",
    "for row in data[:10]: poqPOSEQzaaiop^^p^pp\n",
    "    print(row)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 176,
   "metadata": {},
   "outputs": [],
   "source": [
    "params = {\n",
    "    'range': '5y',\n",
    "    'interval':'1d',\n",
    "    'events':'history'\n",
    "}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 177,
   "metadata": {},
   "outputs": [],
   "source": [
    "response = requests.get(stock_url.format(stock), params=params)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 178,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "['Date', 'Open', 'High', 'Low', 'Close', 'Adj Close', 'Volume']\n",
      "['2015-12-09', '12.500000', '12.500000', '11.500000', '11.500000', '11.500000', '1900']\n",
      "['2015-12-10', '11.900000', '12.200000', '11.500000', '11.500000', '11.500000', '1000']\n",
      "['2015-12-11', '11.500000', '11.600000', '10.200000', '10.800000', '10.800000', '3600']\n",
      "['2015-12-14', '10.500000', '12.100000', '10.400000', '10.600000', '10.600000', '1800']\n"
     ]
    }
   ],
   "source": [
    "file = StringIO(response.text)\n",
    "reader = csv.reader(file)\n",
    "data = list(reader)\n",
    "for row in data[:5]:\n",
    "    print(row)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 154,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'OGEN'"
      ]
     },
     "execution_count": 154,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "stock"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
